function onFrame(t){for(var o=0;count>o;o++){var i=circleLayer.children[o],a=lineLayer.children[o],n=lineLocation[o]-a.lastSegment.point,e=locations[o]-i.position;i.position+=e/(i.data.totalDist/circleSpeed),a.firstSegment.point=i.position;var r=i.data.totalDist,d=Math.round(e.length),s=(r-d)/r,l=i.data.radiusDiff,g=i.data.startingRadius;if(a.data.looking===!1&&(a.lastSegment.point+=n/lineSpeed,a.strokeColor.lightness=.6+.4*s),i.data.growing===!0?i.radius=Math.abs(s*l+g):(g=(g+l)*threshold,i.radius=Math.abs(g-s*l)),s>threshold){if(a.data.startLooking===!0){var h=Point.random()*view.size;a.data.newLocation=h,a.data.startLooking=!1,a.data.looking=!0}if(n=a.data.newLocation-a.lastSegment.point,a.data.looking===!0&&(a.strokeColor.lightness=.6,a.lastSegment.point+=n/lineSpeed),n.length<15&&(a.data.found=!0),a.data.found===!0){lineLocation[o]=a.data.newLocation,locations[o]=a.data.newLocation;var c=locations[o]-i.position;i.data.totalDist=c.length,i.data.growing=!i.data.growing,a.data.looking=!1,a.data.found=!1,a.data.startLooking=!0}}a.strokeColor.hue+=.5}}function onMouseUp(t){console.log(t.point.x),console.log(t.point.y),console.log(t.point);for(var o=0;count>o;o++){var i=circleLayer.children[o],a=lineLayer.children[o],n=t.point;a.data.newLocation=n,a.data.startLooking=!1,a.data.looking=!0}}function onResize(t){var o=t.size.width;console.log(o);for(var i=0;count>i;i++){var a=lineLayer.children[i];a.strokeWidth=o/15}}for(var count=14,threshold=.99,dots=[],locations=[],lineLocation=[],startingPoint=[],circleSpeed=20,lineSpeed=80,minRadius=3,radiusRange=6,maxRadius=radiusRange-minRadius,screenWidth=view.size.width,pathStrokeWeight=screenWidth/15,i=0;count>i;i++){var destination=Point.random()*view.size,startingPoints=Point.random()*view.size;startingPoint.push(startingPoints),locations.push(destination),lineLocation.push(destination)}for(var lineLayer=new Layer,i=0;count>i;i++){var path=new Path({strokeWidth:pathStrokeWeight,strokeCap:"round",segments:[startingPoint[i],lineLocation[i]],strokeColor:{hue:120*i/count,saturation:.7,lightness:0},closed:!1,opacity:1});path.blendMode="multiply",path.data={startLooking:!0,looking:!1,found:!1,newLocation:null}}for(var circleLayer=new Layer,i=0;count>i;i++){if(i%2===0){var dot=new Shape.Circle({center:startingPoint[i],radius:minRadius*threshold,name:"dot"});dot.data={startingRadius:dot.radius,radiusDiff:radiusRange*threshold,totalDist:Math.round((destination-dot.position).length),growing:!0}}else{var dot=new Shape.Circle({center:startingPoint[i],radius:maxRadius*threshold,name:"dot"});dot.data={startingRadius:dot.radius,radiusDiff:radiusRange*threshold,totalDist:Math.round((destination-dot.position).length),growing:!1}}dot.data={startingRadius:dot.radius,radiusDiff:6*threshold,totalDist:Math.round((destination-dot.position).length),growing:!0},vector=locations[i]-dot.position,dot.data.percentTraveled=dot.data.totalDist-Math.round(vector.length),dots.push(dot)}